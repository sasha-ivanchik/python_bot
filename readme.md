## Telegram-бот для анализа сайта Hotels.com и поиска подходящих пользователю отелей

----
Бот написан с использованием библиотеки
[Pytelegrambotapi](https://pypi.org/project/pyTelegramBotAPI/)

Бот использует [API сайта Hotels.com](https://rapidapi.com/apidojo/api/hotels4)

---
### Что умеет бот:

- принимает обязательные данные - название города, даты заезда/выезда и 
желаемую валюту для отображения в предложениях;
- ввод названия города возможен на русском и английском языках;
- поиск самых дорогих/дешевых предложений по заявленным датам 
в указанном городе;
- поиск предложений в указанном ценовом диапазоне с учётом 
максимального удаления от центра города;
- сохраняет историю запросов пользователя и может её вывести в сообщениях;
- обрабатывает только текстовые сообщения. При получении сообщения иного 
типа, бот проинформирует пользователя о невозможности обработки данного сообщения;

---
### Команды:

- /help — помощь по командам бота,
- /start — начало ввода пользователем необходимой для поиска информации,
- /lowprice — вывод самых дешёвых отелей в городе,
- /highprice — вывод самых дорогих отелей в городе,
- /bestdeal — вывод отелей, наиболее подходящих по цене и расположению от центра.
- /history — вывод истории поиска отелей
- /hello_world — тестовая команда

---
### Описание работы:
После ввода первого сообщения, пользователь получает ответ от бота с предложением
начать поиск предложений. После, бот ожидает дальнейшей команды от пользователя.

<br/><br/>
#### Команда /start
После ввода команды у пользователя запрашивается:
1. Город, где будет проводиться поиск
2. Выбор города из возможных предложенных вариантов.
3. Дата заезда
4. Дата выезда
5. Валюта для отображения стоимости предложений
6. Максимальное количество предложений, необходимое пользователю
7. Список команд, для выбора способа сортировки **(если /bestdeal - смотри описание этой команды)

<br/><br/>
#### Команда /lowprice
После ввода команды у пользователя запрашивается:
1. Город, где будет проводиться поиск
2. Выбор города из возможных предложенных вариантов.
3. Дата заезда
4. Дата выезда
5. Валюта для отображения стоимости предложений
6. Максимальное количество предложений, необходимое пользователю

<br/><br/>
#### Команда /highprice
После ввода команды у пользователя запрашивается:
1. Город, где будет проводиться поиск
2. Выбор города из возможных предложенных вариантов.
3. Дата заезда
4. Дата выезда
5. Валюта для отображения стоимости предложений
6. Максимальное количество предложений, необходимое пользователю

<br/><br/>
#### Команда /bestdeal
После ввода команды у пользователя запрашивается:
1. Город, где будет проводиться поиск
2. Выбор города из возможных предложенных вариантов.
3. Дата заезда
4. Дата выезда
5. Валюта для отображения стоимости предложений
6. Максимальное количество предложений, необходимое пользователю
7. Подходящий диапазон цен (два числа через какой-либо разделитель)
8. Максимальное удаление от центра города.




---
### Ответ от бота:
После завершения обработки команды, бот высылает найденное количество предложений
пользователю. Каждое предложение отправляется отдельным сообщением.
#### Структура найденного предложения:
- фото отеля;
- название отеля;
- расстояние от центра города;
- стоимость всего проживания;
- ссылка на отель в системе Hotels.com для бронирования;

---
### Установка и настойка:
1. Установите [python >= 3.9](https://www.python.org/downloads/)
2. Установите зависимости с PIP, выполнив следующую команду в 
командной строке:
```
pip install -r requirements.txt
```
3. ====ЗДЕСЬ БУДЕТ ССЫЛКА НА РЕПОЗИТОРИЙ====
4. Поговорите с @botfather в телеграм и создайте собственного бота.
Необходимо получить ТОКЕН для вашего бота;
5. Внесите, полученный от @botfather токен, в файл _config_example.py;
6. Зарегистрируйтесь я на сайте [rapidapi.com](rapidapi.com);
7. Пройдите по прямой ссылке на документацию [Hotels API Documentation](https://rapidapi.com/apidojo/api/hotels4/);
8. Нажать кнопку Subscribe to Test;
9. Выбрать бесплатный пакет (Basic);
10. Необходимо получить ТОКЕН и ХОСТ от rapidapi.com и внести их в 
файл _config_example.py;
11. Удалите файл _config.py;
12. Переименуйте _config_example.py в _config.py

Бот готов к работе!

В командной строке перейдите в директорию, к которой находятся 
файлы данного проекта и введите команду :
```
python main.py
```